small trades (1K)
60 workers:
  15K/s, CPU=70%


100 workers,
- BT reached target of 25K/s, but maxed out on CPU
- After which the latencies started to grow and writes dropped to 15K/s
- Later writes slowly recovered to 20K/s

10:32:00.151 [metrics-logger-reporter-1-thread-1] INFO  f.b.r.RealRepository.metrics - type=TIMER, name=put, count=100638, min=2.552152, max=58.982105, mean=5.106091678988327, stddev=5.64510722026292, median=3.9700339999999996, p75=4.6452865, p95=7.945007549999991, p98=25.309703059999617, p99=38.64554814000001, p999=58.87143621500001, mean_rate=186.2156075957396, m1=176.57137420894762, m5=154.52039812621229, m15=91.53713906266827, rate_unit=events/second, duration_unit=milliseconds
2017-08-03T10:32:07.667874719Z 10:32:07.667 [metrics-logger-reporter-1-thread-1] INFO  f.b.r.RealRepository.metrics - type=TIMER, name=put, count=105305, min=2.2852699999999997, max=93.936965, mean=4.832061795719844, stddev=5.504514259043956, median=3.7307875, p75=4.45933925, p95=8.134727599999993, p98=20.52269335999999, p99=34.22564368000002, p999=92.98352625800011, mean_rate=194.7974333024206, m1=178.8692592422768, m5=159.67279914650683, m15=91.86736635617976, rate_unit=events/second, duration_unit=milliseconds
2017-08-03T10:34:07.668506003Z 10:34:07.668 [metrics-logger-reporter-1-thread-1] INFO  f.b.r.RealRepository.metrics - type=TIMER, name=put, count=127477, min=2.2852699999999997, max=93.936965, mean=4.977679362840467, stddev=6.356506796467373, median=3.689748, p75=4.43624825, p95=8.0243004, p98=29.231122659999905, p99=42.705272640000054, p999=92.98352625800011, mean_rate=192.97514914563666, m1=189.35025373567285, m5=168.1376810853618, m15=103.46804396124557, rate_unit=events/second, duration_unit=milliseconds
10:41:07.667 [metrics-logger-reporter-1-thread-1] INFO  f.b.r.RealRepository.metrics - type=TIMER, name=put, count=210278, min=2.2852699999999997, max=478.948948, mean=5.573865541828793, stddev=16.103262647049025, median=3.747454, p75=4.43624825, p95=9.588404749999993, p98=31.349658459999958, p99=44.00410019000004, p999=467.78360049300136, mean_rate=194.59601001028776, m1=195.18320237193606, m5=189.45740757889732, m15=138.31639385649467, rate_unit=events/second, duration_unit=milliseconds



big trades (40K)
  40 workers:
  8K/s, CPU=70%, infrequent long latencies
11:11:15.594 [metrics-logger-reporter-1-thread-1] INFO  f.b.r.RealRepository.metrics - type=TIMER, name=put, count=100589, min=2.950563, max=80.32124, mean=4.583296857976653, stddev=3.910189679648234, median=4.1541515, p75=4.6233154999999995, p95=5.914931899999999, p98=7.471647819999992, p99=10.646352500000015, p999=80.11223340400002, mean_rate=209.38731674206022, m1=213.30265000532415, m5=174.88639798014805, m15=98.98520039158488, rate_unit=events/second, duration_unit=milliseconds


query by rowkey
40 workers, 10k qps, 35% cpu load

17:52:47.118 [main] INFO  f.b.r.RealRepository.metrics - type=TIMER, name=get, count=100000, min=2.046775, max=47.430726, mean=3.2847466961182605, stddev=1.1657044021044, median=3.123716, p75=3.623036, p95=4.5093499999999995, p98=5.144858999999999, p99=5.707882, p999=9.464594, mean_rate=279.65264490440546, m1=299.3161117860691, m5=207.44854217528987, m15=108.48738529076817, rate_unit=events/second, duration_unit=milliseconds



==================== QUERY ============================

==== IDLE Bigtable

=== get by rowkey (trade by tradeId + version):
11:06:21.525 [main] INFO  f.b.r.RealRepository.metrics - type=TIMER, name=get, count=10000, min=2.3289459999999997, max=70.760009, mean=4.532553379096398, stddev=6.268399809379551, median=3.564625, p75=4.24777, p95=6.077032, p98=10.988804, p99=57.377278, p999=64.718533, mean_rate=198.46755341896235, m1=140.1403315848386, m5=72.77547505879721, m15=57.6683873544161, rate_unit=events/second, duration_unit=milliseconds
15:52:37.654 [main] INFO  f.b.r.RealRepository.metrics - type=TIMER, name=get, count=10000, min=2.332596, max=75.283292, mean=4.397152626718651, stddev=6.04820042849318, median=3.56459, p75=4.0916239999999995, p95=5.487483999999999, p98=8.81151, p99=54.147295, p999=66.145533, mean_rate=196.04075423080255, m1=139.7465449700141, m5=71.52623607833317, m15=56.5582811371502, rate_unit=events/second, duration_unit=milliseconds
15:54:38.544 [main] INFO  f.b.r.RealRepository.metrics - type=TIMER, name=get, count=10000, min=2.138966, max=71.924538, mean=4.912533817134145, stddev=6.5299510953730024, median=3.5623519999999997, p75=4.312698999999999, p95=9.507622, p98=18.347656999999998, p99=56.484328, p999=67.554341, mean_rate=185.48931337064303, m1=133.3177704985674, m5=74.9397364

16:03:06.027 [main] INFO  f.b.r.RealRepository.metrics - type=TIMER, name=get, count=70000, min=2.35472, max=20.143176, mean=3.6436820883626178, stddev=0.824753568064837, median=3.514021, p75=3.987561, p95=5.161557999999999, p98=5.603243, p99=6.0382169999999995, p999=7.449558, mean_rate=259.7448260996013, m1=269.22048330102655, m5=176.54379672287772, m15=105.53029632599025, rate_unit=events/second, duration_unit=milliseconds

=== get by prefix (latest version by tradeId):
11:52:46.956 [main] INFO  f.b.r.RealRepository.metrics - type=TIMER, name=find, count=10000, min=2.616276, max=68.21490299999999, mean=4.572786707806861, stddev=6.124452857030688, median=3.73214, p75=4.192119, p95=5.562353, p98=9.712221999999999, p99=55.574371, p999=65.050799, mean_rate=191.54166256184823, m1=133.62785783184134, m5=64.77782806502903, m15=49.64760699211387, rate_unit=events/second, duration_unit=milliseconds
15:45:37.035 [main] INFO  f.b.r.RealRepository.metrics - type=TIMER, name=find, count=10000, min=2.568581, max=73.800583, mean=4.540004786606533, stddev=6.506921808206715, median=3.6496489999999997, p75=4.164194, p95=5.5420799999999995, p98=8.285546, p99=49.413776999999996, p999=71.01261099999999, mean_rate=193.78263382868099, m1=133.96137874469395, m5=62.96918359593306, m15=47.324983950033804, rate_unit=events/second, duration_unit=milliseconds
15:49:28.629 [main] INFO  f.b.r.RealRepository.metrics - type=TIMER, name=find, count=10000, min=2.422694, max=81.77452699999999, mean=4.641775182028402, stddev=7.397504786447841, median=3.5179899999999997, p75=3.987196, p95=5.091987, p98=15.647041999999999, p99=58.422684999999994, p999=78.17327399999999, mean_rate=198.45746814942757, m1=134.40718627250286, m5=58.7782275780975, m15=41.96458483428232, rate_unit=events/second, duration_unit=milliseconds

16:07:54.134 [main] INFO  f.b.r.RealRepository.metrics - type=TIMER, name=find, count=70000, min=2.261453, max=27.531831, mean=3.502777784996972, stddev=1.011589044792852, median=3.322336, p75=3.8055239999999997, p95=4.851851, p98=5.648044, p99=7.029528999999999, p999=9.585939999999999, mean_rate=265.3548907878656, m1=279.11835964817, m5=178.61583823521556, m15=105.5365525492172, rate_unit=events/second, duration_unit=milliseconds

=== all versions by tradeId :
15:23:10.509 [main] INFO  f.b.r.RealRepository.metrics - type=TIMER, name=find, count=10000, min=2.7259249999999997, max=112.82223099999999, mean=6.4166483019257985, stddev=7.21471612117711, median=4.517907999999999, p75=7.354222999999999, p95=10.424306, p98=16.065265999999998, p99=55.412228, p999=85.486193, mean_rate=134.99889803268263, m1=106.28289350132475, m5=42.33167113952973, m15=26.35411288958869, rate_unit=events/second, duration_unit=milliseconds
15:26:30.748 [main] INFO  f.b.r.RealRepository.metrics - type=TIMER, name=find, count=10000, min=2.7330069999999997, max=84.73639399999999, mean=5.6621278376205035, stddev=5.512056737751181, median=4.363379999999999, p75=6.900898, p95=8.809154999999999, p98=11.292963, p99=14.892541, p999=84.156082, mean_rate=143.0892443022117, m1=107.43665241586693, m5=41.44842946121009, m15=25.60388984315916, rate_unit=events/second, duration_unit=milliseconds
15:37:05.262 [main] INFO  f.b.r.RealRepository.metrics - type=TIMER, name=find, count=10000, min=2.835902, max=82.091482, mean=6.474327545095314, stddev=7.618390494986299, median=4.625478, p75=7.425977, p95=9.473830999999999, p98=15.536605, p99=60.726464, p999=82.06401199999999, mean_rate=133.28638207497892, m1=109.0345009272934, m5=43.48858875271203, m15=26.555189213391255, rate_unit=events/second, duration_unit=milliseconds

16:25:07.690 [main] INFO  f.b.r.RealRepository.metrics - type=TIMER, name=find, count=70000, min=2.529805, max=112.032118, mean=4.987861884643411, stddev=2.5998396037376548, median=4.010435, p75=6.889882, p95=8.171515, p98=9.053602999999999, p99=11.161230999999999, p999=14.901190999999999, mean_rate=171.21440368334396, m1=198.02375108732386, m5=139.15593951334412, m15=74.22919929082325, rate_unit=events/second, duration_unit=milliseconds

==== 1 parallel full table scan

=== get by rowkey (trade by tradeId + version):
16:43:13.587 [main] INFO  f.b.r.RealRepository.metrics - type=TIMER, name=get, count=70000, min=2.285082, max=28.353606, mean=3.542909039606859, stddev=1.4338179380850724, median=3.4015139999999997, p75=3.799495, p95=4.611482, p98=5.048539, p99=5.8025519999999995, p999=28.353606, mean_rate=252.4946105016461, m1=277.20529118517226, m5=167.29693755186557, m15=86.29503197968613, rate_unit=events/second, duration_unit=milliseconds

=== get by prefix (latest version by tradeId):
16:59:17.828 [main] INFO  f.b.r.RealRepository.metrics - type=TIMER, name=find, count=70000, min=2.3778349999999997, max=17.191233, mean=3.6694876361280295, stddev=0.8020267564174365, median=3.557477, p75=3.991001, p95=4.85015, p98=5.34169, p99=6.194386, p999=11.293037, mean_rate=246.65450386117402, m1=260.96750742745826, m5=171.38222197339567, m15=100.31226184426421, rate_unit=events/second, duration_unit=milliseconds


=== all versions by tradeId :



=== DATASTORE put
16:38:48.328 [main] INFO  datastore.SimpleMain - type=TIMER, name=put, count=10000, min=30.465035, max=108.881187, mean=42.62392700972762, stddev=6.375943505653064, median=42.432987999999995, p75=44.294337999999996, p95=49.721635299999996, p98=55.85949291999999, p99=75.24900417000005, p999=108.61045175800002, mean_rate=21.744388149084557, m1=23.14593331302512, m5=17.466273128614603, m15=8.719287002680279, rate_unit=events/second, duration_unit=milliseconds
